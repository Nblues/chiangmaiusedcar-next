{
  "name": "chiangmaiusedcar-next",
  "version": "1.0.0",
  "private": true,
  "packageManager": "pnpm@10.0.0",
  "scripts": {
    "prebuild": "node scripts/check-no-html-imports.cjs",
    "dev": "cross-env NODE_OPTIONS=\"--max-old-space-size=8192 --max-semi-space-size=256\" UV_THREADPOOL_SIZE=8 next dev -p 3000",
    "devev": "npm run dev",
    "dev:light": "cross-env NODE_OPTIONS=--max-old-space-size=4096 next dev -p 3000",
    "dev:turbo": "cross-env NODE_OPTIONS=\"--max-old-space-size=8192 --max-semi-space-size=256\" UV_THREADPOOL_SIZE=8 next dev --turbo -p 3000",
    "dev:wasm": "cross-env NEXT_DISABLE_SWC_BINARY=1 UV_THREADPOOL_SIZE=4 NEXT_TELEMETRY_DISABLED=1 NODE_OPTIONS=--max-old-space-size=4096 next dev -p 3000",
    "dev:safe": "cross-env NEXT_DISABLE_SWC_BINARY=1 UV_THREADPOOL_SIZE=2 NEXT_TELEMETRY_DISABLED=1 NODE_OPTIONS=--max-old-space-size=2048 next dev -p 3000",
    "dev:hmr": "node scripts/fix-hmr.js && npm run dev",
    "build": "cross-env NODE_OPTIONS=\"--max-old-space-size=10240 --max-semi-space-size=512\" UV_THREADPOOL_SIZE=8 NODE_ENV=production next build",
    "dev:clean": "powershell -NoProfile -Command \"Get-Process | Where-Object { $_.ProcessName -like '*node*' } | Stop-Process -Force -ErrorAction SilentlyContinue; Start-Sleep -Seconds 1; Remove-Item -Path ./.next -Recurse -Force -ErrorAction SilentlyContinue; $env:NODE_OPTIONS='--max-old-space-size=8192'; pnpm dev\"",
    "build:memory": "cross-env NODE_OPTIONS=--max-old-space-size=4096 NODE_ENV=production next build",
    "build:production": "cross-env NODE_ENV=production next build --config next.config.production.js",
    "build:secure": "npm run security-check && npm run build",
    "start": "next start -p 3000",
    "start:production": "cross-env NODE_ENV=production next start -p 3000",
    "analyze": "cross-env ANALYZE=true NODE_OPTIONS=\"--max-old-space-size=10240 --max-semi-space-size=512\" NODE_ENV=production next build",
    "lint": "next lint",
    "lint:fix": "next lint --fix",
    "lint:ci": "next lint --config .eslintrc.ci.json",
    "lint:a11y": "eslint --config .eslintrc.a11y.json --ext .js,.jsx,.ts,.tsx pages components",
    "type-check": "tsc --noEmit",
    "type-check:watch": "tsc --noEmit --watch",
    "format": "prettier --write .",
    "format:check": "prettier --check .",
    "test:build": "npm run lint && npm run type-check && npm run build",
    "security-check": "echo 'Checking admin security...' && grep -q 'Disallow: /admin' public/robots.txt && echo 'Admin protection verified' || echo 'WARNING: Admin not protected in robots.txt'",
    "deploy:secure": "npm run security-check && npm run build && echo 'Ready for deployment with admin protection'",
    "resolve:map": "node dev/scripts/fetch-coords.js",
    "postinstall": "npm run resolve:map || true",
    "postbuild": "next-sitemap; node scripts/generate-image-sitemap.js || true; node scripts/generate-pagination-sitemap.js || true",
    "generate-sitemap": "node scripts/generate-image-sitemap.js && node scripts/generate-pagination-sitemap.js",
    "seo:verify": "node scripts/seo-verify.js",
    "seo:audit": "node seo/audit/run-audit.js",
    "rescrape": "node scripts/rescrape-facebook.js",
    "rescrape:limit": "node scripts/rescrape-facebook.js 50",
    "vercel": "powershell -NoProfile -ExecutionPolicy Bypass -File ./vercel-cli.ps1",
    "deploy": "npm run test:build && powershell -NoProfile -ExecutionPolicy Bypass -File ./vercel-cli.ps1 --prod",
    "deploy:rescrape": "npm run deploy && sleep 60 && npm run rescrape",
    "deploy:preview": "powershell -NoProfile -ExecutionPolicy Bypass -File ./vercel-cli.ps1",
    "vercel:check": "powershell -NoProfile -ExecutionPolicy Bypass -File ./scripts/check-vercel-cli.ps1",
    "kv:selftest": "node ./scripts/kv-selftest.mjs",
    "kv:seed": "node ./scripts/kv-seed.mjs",
    "build:analyze": "cross-env ANALYZE=true NODE_ENV=production NODE_OPTIONS=\"--max-old-space-size=10240 --max-semi-space-size=512\" UV_THREADPOOL_SIZE=8 next build",
    "production": "npm run build && npm run start:production",
    "hmr:fix": "node scripts/fix-hmr.js",
    "hmr:reset": "powershell -ExecutionPolicy Bypass -File scripts/fix-hmr.ps1 -Reset",
    "hmr:dev": "powershell -ExecutionPolicy Bypass -File scripts/fix-hmr.ps1 -Development",
    "hmr:prod": "powershell -ExecutionPolicy Bypass -File scripts/fix-hmr.ps1 -Production",
    "probe": "powershell -Command \"& { $start = Get-Date; try { $response = Invoke-WebRequest -Uri 'https://www.chiangmaiusedcar.com/' -UserAgent 'Chrome-Lighthouse' -UseBasicParsing -TimeoutSec 30; $end = Get-Date; $total = ($end - $start).TotalSeconds; Write-Host ('TTFB:N/A Total:' + $total + 's Status:' + $response.StatusCode) } catch { Write-Host 'Error: Connection failed' } }\"",
    "test:workers": "vitest workers/**/*.test.ts",
    "test:workers:watch": "vitest workers/**/*.test.ts --watch",
    "prepare": "husky",
    "docs": "typedoc",
    "docs:watch": "typedoc --watch",
    "sentry:sourcemaps": "sentry-cli sourcemaps inject ./out && sentry-cli sourcemaps upload --org ครูหนึ่งรถสวย --project nextjs ./out",
    "optimize:images": "node -e \"console.log('Image optimization requires sharp package. Please resize images manually using online tools like squoosh.app')\""
  },
  "dependencies": {
    "@fontsource/prompt": "^5.2.6",
    "@next/third-parties": "^14.2.5",
    "@sentry/nextjs": "^10.13.0",
    "@vercel/analytics": "^1.5.0",
    "@vercel/kv": "^3.0.0",
    "axios": "^1.11.0",
    "cookie": "^0.6.0",
    "critters": "^0.0.25",
    "date-fns": "^4.1.0",
    "emailjs-com": "^3.2.0",
    "firebase-admin": "^13.5.0",
    "framer-motion": "^12.23.12",
    "gray-matter": "^4.0.3",
    "jsonwebtoken": "^9.0.2",
    "lucide-react": "^0.536.0",
    "next": "14.2.5",
    "qrcode": "^1.5.3",
    "react": "^18.3.1",
    "react-dom": "^18.3.1",
    "react-markdown": "^10.1.0",
    "speakeasy": "^2.0.0",
    "sweetalert2": "^11.22.2"
  },
  "devDependencies": {
    "@cloudflare/workers-types": "^4.20250923.0",
    "@next/bundle-analyzer": "^14.2.10",
    "@types/jest": "^30.0.0",
    "@types/node": "^20.19.13",
    "@types/react": "^18.2.73",
    "@types/react-dom": "^18.2.23",
    "@typescript-eslint/eslint-plugin": "^8.44.1",
    "@typescript-eslint/parser": "^8.44.1",
    "autoprefixer": "^10.4.21",
    "cross-env": "^10.0.0",
    "cssnano": "^7.1.0",
    "eslint": "^8.57.1",
    "eslint-config-next": "14.2.10",
    "eslint-config-prettier": "^10.1.8",
    "eslint-plugin-jsx-a11y": "^6.10.2",
    "eslint-plugin-prettier": "^5.5.4",
    "eslint-plugin-react": "^7.37.5",
    "eslint-plugin-react-hooks": "^5.2.0",
    "husky": "^9.1.7",
    "lighthouse": "^12.8.2",
    "lint-staged": "^16.2.0",
    "next-sitemap": "^4.2.3",
    "playwright": "^1.55.0",
    "playwright-chromium": "^1.55.0",
    "postcss": "^8.5.6",
    "prettier": "3.3.3",
    "sharp": "^0.34.4",
    "tailwindcss": "^3.4.17",
    "ts-node": "^10.9.2",
    "typedoc": "^0.28.13",
    "typescript": "^5.9.2",
    "vitest": "^3.2.4",
    "webpack-bundle-analyzer": "^4.10.2"
  },
  "engines": {
    "node": "20.x || 22.x",
    "pnpm": ">=8.0.0"
  }
}
